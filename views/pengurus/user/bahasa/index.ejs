<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../../partials/__head.ejs', { title: 'Daftar Bahasa' }) %>
</head>
<body>
    <div class="container-scroller">
           <div class="container-fluid page-body-wrapper">
            <%- include('../../partials/__nav.ejs', { currentPath: '/pengurus/user/bahasa' }) %>

            <div class="main-panel">
                <div class="content-wrapper">
                    <div class="row">
                        <div class="col-lg-12 grid-margin stretch-card">
                            <div class="card">
                                <div class="card-body">
                                    <div class="header-actions">
                                        <h4 class="card-title">Daftar Bahasa</h4>
                                        <a href="/pengurus/user/bahasa/create" class="btn btn-primary btn-md">
                                            <i class="ti-plus btn-icon-prepend"></i> Tambah Bahasa
                                        </a>
                                    </div>
                                    <p class="card-description">
                                        Daftar bahasa yang tersedia di perpustakaan.
                                    </p>
                                    <div class="table-responsive">
                                        <table class="table table-striped table-bordered">
                                            <thead>
                                                <tr>
                                                    <th>No</th>
                                                    <th>Bahasa</th>
                                                    <th>Aksi</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <% const bahasas = [
                                                    { id: 1, nama: "Indonesia" },
                                                    { id: 2, nama: "Inggris" },
                                                    { id: 3, nama: "Jepang" }
                                                ]; %>
                                                <% bahasas.forEach((bahasa, index) => { %>
                                                <tr>
                                                    <td><%= index + 1 %></td>
                                                    <td><%= bahasa.nama %></td>
                                                    <td class="table-actions">
                                                        <div class="btn-group" role="group" aria-label="Aksi Bahasa">
                                                            <a href="/pengurus/user/bahasa/edit/<%= bahasa.id %>" class="btn btn-info btn-sm">
                                                                <i class="ti-pencil"></i> Edit
                                                            </a>
                                                            <button class="btn btn-danger btn-sm" onclick="return confirm('Apakah Anda yakin ingin menghapus data <%= bahasa.nama %>?');">
                                                                <i class="ti-trash"></i> Hapus
                                                            </button>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <% }) %>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>    
        </div> 
    </div>
    <%- include('../../partials/__foot.ejs') %>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const deletedBahasa = urlParams.get('deleted');

        if (deletedBahasa) {
            alert(`Bahasa '${deletedBahasa}' berhasil dihapus.`);
            const url = new URL(window.location);
            url.searchParams.delete('deleted');
            window.history.replaceState({}, document.title, url);
        }
    </script>

 </body>
</html>