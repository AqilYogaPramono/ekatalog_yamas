<!DOCTYPE html>
<html lang="id">
<head>
    <%- include('../../partials/__head.ejs', { title: 'Detail Buku' }) %>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/magnific-popup.min.css">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f8f9fa;
        }
        .navbar {
            box-shadow: 0 2px 4px rgba(0,0,0,.04);
        }
        .btn-add {
            background-color: #0F8EC8;
            color: white;
            border: 1px solid #0F8EC8;
        }

        .btn-add:hover {
            background-color: #0c75a4;
            transform: translateY(-2px);
        }
        .detail-header {
            font-weight: 700;
            font-size: 2rem;
            color: #212529;
            margin-bottom: 1.5rem;
        }
        .detail-cover-img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            cursor: pointer;
        }
        .detail-info-item {
            margin-bottom: 1rem;
            display: flex;
        }
        .detail-info-label {
            font-weight: 700;
            color: #495057;
            min-width: 150px;
        }
        .detail-info-value {
            color: #5f6870;
            flex-grow: 1;
            text-align: justify;
        }
        .mfp-close {
            color: #fff !important;
            opacity: 1;
            font-size: 30px !important;
            right: 0px !important;
            top: 0px !important;
        }
    </style>
</head>
<body>
    <div class="container-fluid page-body-wrapper flex flex-grow">
        <div class="container mt-5 mb-5">
            <a href="javascript:history.back()" class="btn btn-add mb-3">
                <i class="bi bi-arrow-left"></i> Kembali
            </a>
            
            <div class="row">
                <div class="col-md-4 text-center mb-4">
                    <a href="" class="portfolio-popup" id="book-cover-link">
                        <img src="" alt="Cover Buku" class="detail-cover-img" id="book-cover">
                    </a>
                </div>

                        <div class="col-md-8">
                            <h1 class="detail-header" id="book-title"></h1>

                            <div class="mb-4">
                                <div class="detail-info-item">
                                    <span class="detail-info-label">Pengarang</span>
                                    <span class="detail-info-value" id="book-author"></span>
                                </div>
                                <div class="detail-info-item">
                                    <span class="detail-info-label">ISBN / ISSN</span>
                                    <span class="detail-info-value" id="book-isbn"></span>
                                </div>
                                <div class="detail-info-item">
                                    <span class="detail-info-label">No. Klasifikasi</span>
                                    <span class="detail-info-value" id="book-classification"></span>
                                </div>
                                <div class="detail-info-item">
                                    <span class="detail-info-label">Bahasa</span>
                                    <span class="detail-info-value" id="book-language"></span>
                                </div>
                                <div class="detail-info-item">
                                    <span class="detail-info-label">Jumlah Halaman</span>
                                    <span class="detail-info-value" id="book-pages"></span>
                                </div>
                                <div class="detail-info-item">
                                    <span class="detail-info-label">Tahun Terbit</span>
                                    <span class="detail-info-value" id="book-year"></span>
                                </div>
                                <div class="detail-info-item">
                                    <span class="detail-info-label">Tempat Terbit</span>
                                    <span class="detail-info-value" id="book-publication-place"></span>
                                </div>
                                <div class="detail-info-item">
                                    <span class="detail-info-label">Penerbit</span>
                                    <span class="detail-info-value" id="book-publisher"></span>
                                </div>
                                <div class="detail-info-item">
                                    <span class="detail-info-label">Kategori</span>
                                    <span class="detail-info-value" id="book-category"></span>
                                </div>
                                <div class="detail-info-item">
                                    <span class="detail-info-label">Lokasi</span>
                                    <span class="detail-info-value" id="book-location"></span>
                                </div>
                                <div class="detail-info-item">
                                    <span class="detail-info-label">Ketersediaan</span>
                                    <span class="detail-info-value" id="book-availability"></span>
                                </div>
                                <div class="detail-info-item">
                                    <span class="detail-info-label">Sinopsis</span>
                                    <span class="detail-info-value" id="book-synopsis"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <%- include('../../partials/__foot.ejs') %>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"></script>

    <script>
        const bookData = {
            cover: "https://images.unsplash.com/photo-1543002588-ce997e02580a?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
            title: "Bumi Manusia",
            author: "Pramoedya Ananta Toer",
            isbn: "978-9799106280",
            classification: "813.54 PRO b",
            language: "Indonesia",
            pages: "550",
            year: "1980",
            publicationPlace: "Jakarta",
            publisher: "Hasta Mitra",
            category: "Fiksi Sejarah",
            location: "Rak 5",
            availability: "Tersedia",
            synopsis: "Bumi Manusia adalah novel pertama dari Tetralogi Buru karya Pramoedya Ananta Toer. Novel ini menceritakan kisah Minke, seorang pribumi yang berkesempatan sekolah di HBS, sekolah menengah bergengsi untuk orang-orang Belanda dan Eropa. Di tengah diskriminasi dan ketidakadilan kolonial, Minke berjuang untuk mempertahankan martabatnya dan cintanya pada Annelies, putri Nyai Ontosoroh. Novel ini adalah cerminan perjuangan, cinta, dan identitas di masa kolonial Hindia Belanda."
        };

        function displayBookDetails(data) {
            document.getElementById('book-cover').src = data.cover;
            document.getElementById('book-cover').alt = `Cover Buku ${data.title}`;
            document.getElementById('book-title').textContent = data.title;
            document.getElementById('book-author').textContent = `: ${data.author}`;
            document.getElementById('book-isbn').textContent = `: ${data.isbn}`;
            document.getElementById('book-classification').textContent = `: ${data.classification}`;
            document.getElementById('book-language').textContent = `: ${data.language}`;
            document.getElementById('book-pages').textContent = `: ${data.pages}`;
            document.getElementById('book-year').textContent = `: ${data.year}`;
            document.getElementById('book-publication-place').textContent = `: ${data.publicationPlace}`;
            document.getElementById('book-publisher').textContent = `: ${data.publisher}`;
            document.getElementById('book-category').textContent = `: ${data.category}`;
            document.getElementById('book-location').textContent = `: ${data.location}`;
            document.getElementById('book-availability').textContent = `: ${data.availability}`;
            document.getElementById('book-synopsis').textContent = `: ${data.synopsis}`;
        }

        document.addEventListener('DOMContentLoaded', () => {
            displayBookDetails(bookData);
        });

        $(document).ready(function() {
            $('.portfolio-popup').magnificPopup({
                type: 'image',
                removalDelay: 300,
                mainClass: 'mfp-fade',
                gallery: {
                    enabled: true
                },
                zoom: {
                    enabled: true,
                    duration: 300,
                    easing: 'ease-in-out',
                    opener: function(openerElement) {
                        return openerElement.is('img') ? openerElement : openerElement.find('img');
                    }
                }
            });
        });
    </script>
</body>
</html>